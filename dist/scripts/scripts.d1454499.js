"use strict";var app=angular.module("tzAsdApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]);app.constant("blog_name","peacecorps.tumblr.com"),app.constant("api_key","fuiKNFp9vQFvjLNvx4sUwti4Yb5yGutBN4Xh10LXZhhRKjWlV4"),app.directive("loadingContainer",function(){return{restrict:"A",templateUrl:"views/spiner.html",scope:!1,link:function(a,b,c){a.$watch(c.loadingContainer,function(a){b.toggleClass("ng-hide",!a)})}}}),app.directive("contenteditable",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){function e(){d.$setViewValue(b.html())}d.$render=function(){b.html(d.$viewValue||"")},b.bind("blur keyup change",function(){a.$apply(e)})}}}),angular.module("tzAsdApp").service("TumblrResource",["$resource","blog_name","api_key",function(a,b,c){return a("http://api.tumblr.com/v2/blog/:blog_name/posts/text?callback=JSON_CALLBACK",{blog_name:b,api_key:c},{fetch:{method:"JSONP",isArray:!0,transformResponse:function(a){return a.response.posts}}})}]).factory("TumblrService",["TumblrResource",function(a){var b;return{getPosts:function(){return b?b:b=a.fetch()},getPostById:function(a){return this.getPosts().$promise.then(function(b){return(b||[]).filter(function(b){return+b.id===+a})[0]})}}}]).controller("MainCtrl",["$q","$scope","TumblrService",function(a,b,c){function d(){b.$loading=!1}b.posts=c.getPosts(),b.$loading=!0,b.posts.$promise.then(function(){d()})["catch"](d)}]),angular.module("tzAsdApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("tzAsdApp").config(["$routeProvider",function(a){a.when("/post/:id",{templateUrl:"views/post.html",controller:"PostCtrl"})}]).controller("PostCtrl",["$scope","$routeParams","$window","$location","$anchorScroll","TumblrService",function(a,b,c,d,e,f){function g(){e()}a.$loading=!0,f.getPostById(b.id).then(function(b){a.$loading=!1,a.post=b,g()}),a.back=function(){c.history.back()}}]);